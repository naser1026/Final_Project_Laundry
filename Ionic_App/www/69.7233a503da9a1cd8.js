"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[69],{69:(y,h,c)=>{c.r(h),c.d(h,{SearchpelangganPageModule:()=>O});var p=c(177),u=c(4341),r=c(1075),g=c(8986),d=c(467),e=c(4438),f=c(1950);const C=()=>["/tabs/menu"],b=()=>["/addpelanggan"];function P(o,s){if(1&o){const i=e.RV6();e.j41(0,"ion-item")(1,"ion-thumbnail",18),e.nrm(2,"img",19),e.k0s(),e.j41(3,"ion-label")(4,"h3"),e.EFF(5),e.k0s(),e.j41(6,"p"),e.EFF(7,"No Handphone"),e.k0s(),e.j41(8,"h2"),e.EFF(9),e.k0s()(),e.j41(10,"ion-button",20),e.bIt("click",function(){const t=e.eBV(i).$implicit,a=e.XpG();return e.Njj(a.editCustomer(t))}),e.nrm(11,"ion-icon",21),e.k0s(),e.j41(12,"ion-button",22),e.bIt("click",function(){const t=e.eBV(i).$implicit,a=e.XpG();return e.Njj(a.doPostDeleteCustomer(t.id))}),e.nrm(13,"ion-icon",23),e.k0s()()}if(2&o){const i=s.$implicit;e.R7$(5),e.JRh(i.name),e.R7$(4),e.JRh(i.phone_number)}}function m(o){return(new DOMParser).parseFromString(o,"text/html").body.textContent||""}const M=[{path:"",component:(()=>{var o;class s{constructor(n,t,a){this.api=n,this.alertController=t,this.router=a,this.searchQuery="",this.filteredDataCustomer=[]}editCustomer(n){console.log("Edit Customer:",n),this.router.navigate(["/updatepelanggan"],{state:{customer:n}})}GetAllCustomer(){this.api.GetListCustomer().subscribe(n=>{this.DataCustomer=n.data.customers.map(t=>({...t,name:m(t.name),phone_number:m(t.phone_number)})),this.filteredDataCustomer=this.DataCustomer,console.log("Data Customer ===>"+JSON.stringify(this.DataCustomer))})}filterCustomers(){const n=this.searchQuery.toLowerCase();this.filteredDataCustomer=this.DataCustomer.filter(t=>t.name.toLowerCase().includes(n)||t.phone_number.toLowerCase().includes(n))}presentAlert(n,t){var a=this;return(0,d.A)(function*(){yield(yield a.alertController.create({header:n,message:t,buttons:["OK"]})).present()})()}doPostDeleteCustomer(n){this.api.DeleteCustomer(n).subscribe(t=>{const a=JSON.parse(JSON.stringify(t));console.log(a.id),console.log("Success ==> "+JSON.stringify(t)),this.presentAlert("Berhasil","Pelanggan berhasil dihapus"),this.GetAllCustomer()},t=>{console.error("Gagal Create user ===> ",t.status),this.presentAlert("Gagal","Pelanggan tidak ditemukan")})}checkForRefresh(){const n=this.router.getCurrentNavigation();null!=n&&n.extras.state&&n.extras.state.refresh&&this.GetAllCustomer()}handleRefresh(n){this.GetAllCustomer(),n.target.complete()}ngOnInit(){this.GetAllCustomer(),this.checkForRefresh()}}return(o=s).\u0275fac=function(n){return new(n||o)(e.rXU(f.F),e.rXU(r.hG),e.rXU(g.Ix))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-searchpelanggan"]],decls:22,vars:7,consts:[[3,"fullscreen"],[1,"overlay"],[1,"card"],[1,"toolbar-content"],["name","arrow-back-outline","size","large",1,"ikon",3,"routerLink"],[1,"toolbar-title"],[1,"spacer"],[1,"horizontal-line"],[1,"search-bar-container"],["placeholder","Cari Nama",1,"custom-searchbar",3,"ngModelChange","ngModel"],["size","large","color","success",1,"button-sc",3,"routerLink"],["name","add-outline"],[1,"horizontal-lines"],[1,"list-container"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","circles"],["lines","full"],[4,"ngFor","ngForOf"],["slot","start"],["alt","Silhouette of mountains","src","../../../assets/image/person.jpg"],["color","success","size","large",3,"click"],["name","pencil-outline"],["color","medium","size","large",3,"click"],["name","trash-outline"]],template:function(n,t){1&n&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"ion-card",2)(3,"div")(4,"ion-card-header")(5,"ion-toolbar")(6,"div",3),e.nrm(7,"ion-icon",4),e.j41(8,"h1",5),e.EFF(9,"PELANGGAN"),e.k0s(),e.nrm(10,"div",6),e.k0s()(),e.nrm(11,"div",7),e.j41(12,"div",8)(13,"ion-searchbar",9),e.mxI("ngModelChange",function(l){return e.DH7(t.searchQuery,l)||(t.searchQuery=l),l}),e.bIt("ngModelChange",function(){return t.filterCustomers()}),e.k0s(),e.j41(14,"ion-button",10),e.nrm(15,"ion-icon",11),e.k0s()(),e.nrm(16,"div",12),e.k0s(),e.j41(17,"div",13)(18,"ion-refresher",14),e.bIt("ionRefresh",function(l){return t.handleRefresh(l)}),e.nrm(19,"ion-refresher-content",15),e.k0s(),e.j41(20,"ion-list",16),e.DNE(21,P,14,2,"ion-item",17),e.k0s()()()()()()),2&n&&(e.Y8G("fullscreen",!0),e.R7$(7),e.Y8G("routerLink",e.lJ4(5,C)),e.R7$(6),e.R50("ngModel",t.searchQuery),e.R7$(),e.Y8G("routerLink",e.lJ4(6,b)),e.R7$(7),e.Y8G("ngForOf",t.filteredDataCustomer))},dependencies:[p.Sq,u.BC,u.vS,r.Jm,r.b_,r.ME,r.W9,r.iq,r.uz,r.he,r.nf,r.To,r.Ki,r.S1,r.Zx,r.ai,r.Gw,r.N7,g.Wk],styles:['.ion-input[_ngcontent-%COMP%]{--highlight-height: 2px}.custom-input[_ngcontent-%COMP%]{--border-color: #ccc;--border-width: 1px;--border-radius: 8px;--padding-start: 16px}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;height:auto;margin-top:10px}.pading-bottom[_ngcontent-%COMP%]{padding-bottom:3%}.padding-space[_ngcontent-%COMP%]{margin:3%}.element[_ngcontent-%COMP%]{background-color:#00ff2f}.font-color[_ngcontent-%COMP%]{color:#d3d3d3}.text-center-line[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;width:100%}.text-center-line[_ngcontent-%COMP%]:before, .text-center-line[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #b5a8a8}.text-center-line[_ngcontent-%COMP%]:not(:empty):before{margin-right:.25em}.text-center-line[_ngcontent-%COMP%]:not(:empty):after{margin-left:.25em}.body[_ngcontent-%COMP%]{font-family:bubblegun,sans-serif}.logo[_ngcontent-%COMP%]{height:150px;width:150px;display:flex;justify-content:center;align-items:center}.card[_ngcontent-%COMP%]{margin-top:50px;box-shadow:0 4px 8px #0000001a;border-top-left-radius:50px;border-top-right-radius:50px;max-width:max;height:100%}ion-segment-button[_ngcontent-%COMP%]{font-size:14px;font-weight:550}ion-button[_ngcontent-%COMP%]{font-size:14px;font-weight:550;margin-top:10px}.alert[_ngcontent-%COMP%]{margin-right:5px}p[_ngcontent-%COMP%]{cursor:pointer}.ikon[_ngcontent-%COMP%]{margin-right:20px}.search-bar-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:-15px;margin-bottom:10px;font-size:small;box-shadow:none;justify-content:center}ion-searchbar.custom-searchbar[_ngcontent-%COMP%]{--background: #cccccca8;--border-radius: 20px;--box-shadow: none;--border: 1px solid #cccccc78}ion-button.button-sc[_ngcontent-%COMP%]{--border-width: 30px}.horizontal-lines[_ngcontent-%COMP%]{margin-top:0%;border-top:1px solid #dcdcdc;margin-bottom:-10px}.list-container[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow-y:auto}ion-list[_ngcontent-%COMP%]{height:100%;overflow:auto}h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600}.notdata[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;flex-direction:column;margin-top:25%}.toolbar-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;position:relative}.ikon[_ngcontent-%COMP%]{font-size:24px;position:absolute;left:0}.toolbar-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);font-size:1.5rem;margin:0}.spacer[_ngcontent-%COMP%]{flex:1}ion-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:3px}ion-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;border-radius:11px}ion-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.03em;font-weight:900}ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8em}ion-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.9em;font-weight:600}ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:13px}']}),s})()}];let x=(()=>{var o;class s{}return(o=s).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[g.iI.forChild(M),g.iI]}),s})(),O=(()=>{var o;class s{}return(o=s).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[p.MD,u.YN,r.bv,x]}),s})()}}]);